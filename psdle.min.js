/*! psdle 3.0.5 (c) RePod, MIT https://github.com/RePod/psdle/blob/master/LICENSE - min - compiled 2017-11-18 */
var repod={};repod.psdle={autocomplete_cache:[],gamelist:[],gamelist_cur:[],e_inject_cache:[],id_cache:{},lang:{},pid_cache:{},sys_cache:{},type_cache:{},prop_cache:[],lang_cache:{en:{def:"us",us:{local:"English",startup:{apis:"Select which store features you would like to use, hover for more details.<br>Certain store features may not be disabled.",wait:"Please wait.",start:"Start"},columns:{icon:"Icon",name:"Name",platform:"Platform",size:"Size",date:"Date"},labels:{exportView:"Export View",page:"Page"},categories:{downloadable_game:"Games",demo:"Demos",add_on:"Add-ons",unlock:"Unlocks",unlock_key:"Unlock Keys",avatar:"Avatars",theme:"Themes",other:"other",other_game_related:"other_game_related",game_content:"game_content",tumbler_index:"tumbler_index",home:"home",ungrouped_game:"ungrouped_game",promo_content:"promo_content",beta:"Betas",application:"Applications",extras:"Extras",unknown:"Unknown"},strings:{delimiter:"Enter separator:",yes:"Yes",no:"No",search:"Search",dlQueue:"Queue",dlList:"List",plus:"Toggle visibility of PS+ titles.",queueAll:"All",queueTo:"Download to $SYS$",noTarget:"There is no available target console to send to.",exportColumnName:"Column Name",exportProperty:"Property"},apis:[{internalID:"api_entitle",name:"Purchase History",desc:"Cannot be disabled. Uses your purchase history to create the download list and determine PlayStation Plus status."},{internalID:"api_game",name:"Catalog",desc:"Enable for additional game information, including categories. Increases time needed to create the download list."},{internalID:"api_queue",name:"Download Queue",desc:"Allows adding and removing items from the download queue. Reads download queue information and console activation status."},{internalID:"api_pstv",name:"PS TV",desc:'Detect PS TV compatible titles. Only supported on "en-us" web store (not PSDLE language).',disabled:!0}]}},es:{def:"es",es:{author:"Positronic-Brain (#18)",local:"Español",startup:{apis:"Elija APIs a utilizar. Coloque el puntero sobre el API para visualizar detalles.<br>Algunos APIs no pueden ser deshabilitados.",wait:"Por favor espere...",start:"Inicio"},columns:{icon:"Ícono",name:"Nombre",platform:"Plataforma",size:"Tamaño",date:"Fecha"},labels:{exportView:"Exportar vista",page:"Página"},categories:{downloadable_game:"Juegos",demo:"Demos",add_on:"Complementos",unlock:"Desbloqueables",unlock_key:"Llaves",avatar:"Avatares",theme:"Temas",other:"Otros",other_game_related:"Otros",game_content:"Contenidos",tumbler_index:"tumbler_index",home:"Home",ungrouped_game:"No Clasificados",promo_content:"Promociones",beta:"Betas",application:"Aplicaciones",extras:"Extras",unknown:"Desconocido"},strings:{delimiter:"Ingrese delimitador:",yes:"Sí",no:"No",search:"Búsqueda",dlQueue:"Cola de Descargas",dlList:"Lista de Descargas",plus:"Alterna la visibilidad de los títulos de PS Plus.",queueAll:"Todos",queueTo:"Descargar a $SYS$"},apis:[{internalID:"api_entitle",name:"Licencias",desc:"No puede ser deshabilitado. Accede a la información de las compras y se utiliza para construir la lista de descargas, determinar el estado de PS Plus y otras cosas."},{internalID:"api_game",name:"Catálogo",desc:"Accede a información adicional para determinar la consola adecuada, reparar imágenes rotas, y más."},{internalID:"api_queue",name:"Cola de Descargas",desc:"Permite añadir y remover entradas a la cola de descargas. Lee la información de la cola de descargas y el número de consolas activadas en la cuenta."},{internalID:"api_pstv",name:"PS TV",desc:'Detecta títulos compatibles con PS TV. Sólo soportado en la tienda de la región "en-us" (región, no idioma de PSDLE).',disabled:!0}]}},pt:{def:"br",br:{author:"msvalle (#33)",local:"Português (Brasil)",startup:{apis:"Selecione quais APIs você gostaria de usar, passe o mouse por cima para mais detalhes.<br>Algumas APIs não podem ser desabilitadas.",wait:"Por favor aguarde.",start:"Iniciar"},columns:{icon:"Ícone",name:"Nome",platform:"Platforma",size:"Tamanho",date:"Data"},labels:{exportView:"Exportar Visualização",page:"Página"},categories:{downloadable_game:"Jogos",demo:"Demos",add_on:"Expansões",unlock:"Desbloqueáveis",unlock_key:"Chaves",avatar:"Avatarws",theme:"Temas",other:"Outros",other_game_related:"Outros",game_content:"Conteúdo",tumbler_index:"tumbler_index",home:"Home",ungrouped_game:"Não classificado",promo_content:"Promoções",beta:"Betas",application:"Aplicações",extras:"Extras",unknown:"Desconhecido"},strings:{delimiter:"Entre delimitador:",stringify_error:"Erro: Navegador não possui JSON.stringify.",yes:"Sim",no:"Não",search:"Buscar por título do jogo",dlQueue:"Fila de downlaod",dlList:"Lista de download",plus:"Alterna ver títulos PS+.",queueAll:"Todos",queueTo:"Download para $SYS$"},apis:[{internalID:"api_entitle",name:"Licenças",desc:"Não pode ser desabilitado. Acessa informção de compra usada para criar a lista de download, determinar o status da PS+, e outras coisas."},{internalID:"api_game",name:"Catálogo",desc:"Acessa informação adicional do jogo para determinar o console certo, corrigir imagens quebradas, e mais."},{internalID:"api_queue",name:"Fila de download",desc:"Permite adicionar e remover itens da lista de download. Lê informação da lista de download e quantidade de consoles ativos na conta."},{internalID:"api_pstv",name:"PS TV",desc:'Detecta títulos compatíveis com a PS TV. Somente suportado na web store "en-us" (não o idioma do PSDLE).',disabled:!0}]}},de:{def:"de",de:{author:"/u/_MrBubbles",local:"Deutsch",startup:{wait:"Seite wird geladen, bitte warten."},columns:{icon:"Symbol",name:"Name",platform:"Plattform",size:"Größe",date:"Datum"},labels:{exportView:"Exportiere Ansicht",page:"Seite"},categories:{downloadable_game:"Spiele",demo:"Demos",add_on:"Erweiterungen",unlock:"Freischaltbares",avatar:"Spielerbilder",theme:"Themen",application:"Anwendungen",unknown:"Unbekannt"},strings:{delimiter:"Geben sie ein Trennzeichen ein",yes:"Ja",no:"Nein",search:"Suche"}}},fr:{def:"fr",fr:{author:"cramoisan (#9)",local:"Français",startup:{apis:"Sélectionner l'API à utiliser; Survoler pour plus de détails.<br>Certaines APIs ne peuvent pas être désactivées.",wait:"Merci de patienter.",start:"Commencer"},columns:{icon:"Icône",name:"Nom",platform:"Plate-forme",size:"Taille",date:"Date"},labels:{exportView:"Exporter la vue",page:"Page"},categories:{downloadable_game:"Jeux",demo:"Démos",add_on:"DLCs",unlock:"Codes de déverouillage",avatar:"Avatars",theme:"Thèmes",application:"Applications",unknown:"Inconnu"},strings:{delimiter:"Entrer le délimiteur:",yes:"Oui",no:"Non",search:"Rechercher",dlQueue:"Queue",dlList:"Liste",plus:"Afficher/cacher les titres PS+.",queueAll:"Tous",queueTo:"Télécharger sur $SYS$"},apis:[{internalID:"api_entitle",name:"Droits",desc:"Ne peut pas être désactivée. Accède aux informations d'achat afin de créer la liste de téléchargement, et déterminer le statut PS+, ainsi que d'autres choses."},{internalID:"api_game",name:"Catalogue",desc:"Accède aux informations supplémentaires des jeux pour déterminer la plate-forme, corriger les liens d'images cassés, et plus."},{internalID:"api_queue",name:"Liste de téléchargement",desc:"Permet d'ajouter ou de retirer des articles de la liste de téléchargement. Lit les informations de la liste de téléchargement et le nombre de consoles activées sur le compte."},{internalID:"api_pstv",name:"PS TV",desc:'Détecte les titres compatibles PS TV. Ne marche que sur le store "en-us" (différent de la langue choisie pour PSDLE).',disabled:!0}]}},ru:{def:"ru",ru:{author:"GenosseArroganz",local:"Русский",startup:{apis:"Выберите необходимые компоненты (для описания наведите на них указатель мыши).<br>Некоторые компоненты обязательны и не могут быть отключены.",wait:"Подождите…",start:"Начать!"},columns:{icon:"Иконка",name:"Название",platform:"Платформа",size:"Размер",date:"Дата"},labels:{exportView:"Экспорт списка",page:"Страница"},categories:{downloadable_game:"Игры",demo:"Демо",add_on:"Дополнения",unlock:"Разблокировки",unlock_key:"Ключи разблокировки",avatar:"Аватары",theme:"Темы",other:"Другое",other_game_related:"Другой связанный контент",game_content:"Игровой контент",tumbler_index:"tumbler_index",home:"PlayStation Home",ungrouped_game:"Без категории",promo_content:"Промо-материалы",beta:"Бета",application:"Приложения",extras:"Дополнительно",unknown:"Неизвестно"},strings:{delimiter:"Введите разделитель:",yes:"Да",no:"Нет",search:"Поиск",dlQueue:"Очередь загрузок",dlList:"Список загрузок",plus:"Скрыть/показать игры PS+",queueAll:"Все",queueTo:"Загрузить на $SYS$",noTarget:"Не обнаружено подходящего устройства",exportColumnName:"Название столбца",exportProperty:"Свойство"},apis:[{internalID:"api_entitle",name:"История покупок",desc:"Нельзя отключить. История ваших покупок используется для создания списка загрузок и определения статуса PlayStation Plus."},{internalID:"api_game",name:"Каталог",desc:"Больше опций отображения списка, включая категории. Увеличивает время, необходимое для подготовки списка загрузок."},{internalID:"api_queue",name:"Очередь загрузок",desc:"Возможность формировать очередь загрузок. Доступ к информации об очереди загрузок и активированных консолях на аккаунте."},{internalID:"api_pstv",name:"PS TV",desc:"Определяет совместимые с PS TV игры и приложения. Только для американского магазина.",disabled:!0}]}},ja:{def:"jp",jp:{author:"k0ta0uchi (#36)",local:"日本語",startup:{apis:"使用したいAPIを選択してください。ホバーすることによって詳細を確認することができます。<br>特定のAPIは無効化することが出来ない可能性があります。",wait:"お待ちください。",start:"開始"},columns:{icon:"アイコン",name:"ゲーム名",platform:"プラットフォーム",size:"サイズ",date:"日付"},labels:{exportView:"ビューをエクスポート",page:"ページ"},categories:{downloadable_game:"ゲーム",demo:"デモ",add_on:"アドオン",unlock:"アンロック",unlock_key:"アンロックキー",avatar:"アバター",theme:"テーマ",other:"その他",other_game_related:"その他ゲーム関連",game_content:"ゲームコンテンツ",tumbler_index:"タンブラーインデックス",home:"ホーム",ungrouped_game:"未分類のゲーム",promo_content:"プロモコンテンツ",beta:"ベータ",application:"アプリケーション",extras:"エキストラ",unknown:"不明"},strings:{delimiter:"区切り文字を入力してください:",yes:"はい",no:"いいえ",search:"検索",dlQueue:"待機リスト",dlList:"リスト",plus:"PS＋タイトルの表示を切り替える。",queueAll:"全て",queueTo:"$SYS$にダウンロード",noTarget:"送信可能なコンソールが存在しません。",exportColumnName:"カラム名",exportProperty:"プロパティ"},apis:[{internalID:"api_entitle",name:"エンタイトルメント",desc:"無効化することは出来ません。購入情報にアクセスし、ダウンロードリストを作成、PS+の状態を確認、その他を行います。"},{internalID:"api_game",name:"カタログ",desc:"ゲームの追加情報にアクセスし、正確なコンソールの把握、壊れたイメージの修正、その他を行います。"},{internalID:"api_queue",name:"ダウンロード待機リスト",desc:"ダウンロード待機リストからアイテムの追加や削除の許可します。ダウンロード待機リスト情報とアカウントで有効化されたコンソールの数を読み込みます。"},{internalID:"api_pstv",name:"PS TV",desc:'PS TV互換タイトルを検知します。"en-us"ウェブストアでのみサポートされます。（PSDLEの言語設定ではありません）',disabled:!0}]}},nl:{def:"nl",nl:{author:"Tricksy",local:"Nederlands",startup:{apis:"Selecteer welke APIs je wilt gebruiken, hover voor meer details.<br>Sommige APIs kunnen niet gedeselecteerd worden.",wait:"Even geduld alstublieft.",start:"Start"},columns:{icon:"Icoon",name:"Naam",platform:"Platform",size:"Grootte",date:"Datum"},labels:{exportView:"Exporteer View",page:"Pagina"},categories:{downloadable_game:"Spellen",demo:"Demos",add_on:"Add-ons",unlock:"Ontgrendelingen",unlock_key:"Ontgrendelings Sleutels",avatar:"Avatars",theme:"Themas",other:"anders",other_game_related:"ander_spel_gerelateerd",game_content:"spel_inhoud",tumbler_index:"tumbler_index",home:"begin",ungrouped_game:"ongegroepeerd_spel",promo_content:"promo_inhoud",beta:"Betas",application:"Applicaties",extras:"Extras",unknown:"Onbekend"},strings:{delimiter:"Voer delimiter in:",yes:"Ja",no:"Nee",search:"Zoeken",dlQueue:"Wachtrij",dlList:"Lijst",plus:"Laat PS+ titels zien.",queueAll:"Alles",queueTo:"Download naar $SYS$",noTarget:"Er is geen beschikbare console om naar toe te sturen",exportColumnName:"Kolom Naam",exportProperty:"Inhoud"},apis:[{internalID:"api_recht",name:"Rechten",desc:"Kan niet uitgeschakeld worden. Geeft toegang tot betalings informatie om te gebruiken voor de download lijst, bepaald PS+ status, en meer."},{internalID:"api_spel",name:"Catalogus",desc:"Geeft toegang tot extra spel informatie om de goede console te bepalen, kapotte images te fixen, en meer."},{internalID:"api_wachtrij",name:"Download Wachtrij",desc:"Geeft toegang tot het toevoegen en verwijderen van spellen op de download wachtrij. Leest de download wachtrij informatie en het aantal geactiveerde consoles op het account."},{internalID:"api_pstv",name:"PS TV",desc:'Detecteert titels die met PS TV werken. Werkt alleen op de "en-us" web store (niet PSDLE taal).',disabled:!0}]}},ar:{def:"ae",ae:{author:"Oakkom",rtl:!0,local:"العربية",startup:{apis:"أختار الميزات التي تود استخدامها حرك المؤشر فوقها للمزيد من المعاومات<br>بعض الميزات لا يمكن ابطالها",wait:"...جار التحميل",start:"ابدأ"},columns:{icon:"الأيقونة",name:"الأسم",platform:"نوع الجهاز",size:"الحجم",date:"التاريخ"},labels:{exportView:"أحفظ الائحة",page:"الصفحة"},categories:{downloadable_game:"الألعاب",demo:"الإصدارات التجريبية",add_on:"العناصر الأضافية",unlock:"Unlocks",unlock_key:"Unlock Keys",avatar:"صٌور رمزية",theme:"السمات",other:"اخرى",other_game_related:"other_game_related",game_content:"محتويات اللعبة",tumbler_index:"tumbler_index",home:"المنزل",ungrouped_game:"ungrouped_game",promo_content:"محتويات ترويجية",beta:"اصدار تجريبي",application:"التطبيقات",extras:"إضافات",unknown:"مجهول"},strings:{delimiter:":أدخل الفواصل",yes:"نعم",no:"لا",search:"أبحث",dlQueue:"لائحة التنزيل",dlList:"لائحة الألعاب",plus:"ضبط ظاهرية العاب PlayStation Plus",queueAll:"الكل",queueTo:"$SYS$ حَمل الى",noTarget:"لا يوجد جهاز للتحميل اليه",exportColumnName:"أسم العمود",exportProperty:"الخصائص"},apis:[{internalID:"api_entitle",name:"تاريخ الشراء",desc:"لا يمكن عدم التفعيل تستعمل بيانات شىرائك ليتم تشكيل الائحة و تحديد وضع PlayStation Plus"},{internalID:"api_game",name:"الفهرس",desc:".فعل للحصول على معاومات اضافية عن الألعاب, منها الأنواع. تزيد الوقت اللازم لتحميل اللائحة"},{internalID:"api_queue",name:"لائحة التنزيل",desc:".تسمح بزيادة أو حذف العناصر من لائحة التنزيل, تحصل على معلومات لائحة التنزيل و عدد الأجهزة المفعلة على الحساب"},{internalID:"api_pstv",name:"PS TV",desc:"الكشف عن الألعاب لجهاز PS TV متوافر فقط لمتجر  en-us",disabled:!0}]}},zh:{def:"tw",tw:{author:"Alexsh",local:"中文 (繁體)",startup:{apis:"請選擇要使用的PS Store功能，滑鼠游標停留以取得項目的詳細資訊<br>部份功能可能無法關閉",wait:"請稍候...",start:"開始"},columns:{icon:"圖示",name:"名稱",platform:"平台",size:"容量",date:"購買日期"},labels:{exportView:"匯出",page:"Page"},categories:{downloadable_game:"遊戲",demo:"體驗版",add_on:"追加內容",unlock:"關卡",unlock_key:"解鎖",avatar:"個人造型",theme:"主題",other:"other",other_game_related:"other_game_related",game_content:"game_content",tumbler_index:"tumbler_index",home:"home",ungrouped_game:"ungrouped_game",promo_content:"promo_content",beta:"Betas",application:"應用程式",extras:"Extras",unknown:"Unknown"},strings:{delimiter:"分隔字元:",yes:"是",no:"否",search:"搜尋",dlQueue:"佇列",dlList:"清單",plus:"選擇顯示PS+遊戲",queueAll:"全部",queueTo:"下載到$SYS$",noTarget:"沒有可傳送的主機。",exportColumnName:"欄位名稱",exportProperty:"屬性"},apis:[{internalID:"api_entitle",name:"購買記錄",desc:"此項不可關閉，將使用購買記錄來建立下載清單及確認PlayStation Plus狀態。"},{internalID:"api_game",name:"類別",desc:"開啟以取得更多遊戲資訊，包括類別及購買時間來建立下載清單。"},{internalID:"api_queue",name:"下載佇列",desc:"允許從下載佇列增加/移除項目。"},{internalID:"api_pstv",name:"PS TV",desc:"偵測Playstation Vita TV相容遊戲。目前只支援en-us區域",disabled:!0}]},cn:{author:"Alexsh",local:"中文 (简体)",startup:{apis:"请选择要使用的PS Store功能，鼠标光标停留以取得项目的详细信息<br>部份功能可能无法关闭",wait:"请稍候...",start:"开始"},columns:{icon:"图示",name:"名称",platform:"平台",size:"容量",date:"购买日期"},labels:{exportView:"汇出",page:"Page"},categories:{downloadable_game:"游戏",demo:"体验版",add_on:"追加内容",unlock:"关卡",unlock_key:"解锁",avatar:"个人造型",theme:"主题",other:"other",other_game_related:"other_game_related",game_content:"game_content",tumbler_index:"tumbler_index",home:"home",ungrouped_game:"ungrouped_game",promo_content:"promo_content",beta:"Betas",application:"应用程序",extras:"Extras",unknown:"Unknown"},strings:{delimiter:"分隔字符:",yes:"是",no:"否",search:"搜寻",dlQueue:"队列",dlList:"清单",plus:"选择显示PS+游戏",queueAll:"全部",queueTo:"下载到$SYS$",noTarget:"没有可传送的主机。",exportColumnName:"域名",exportProperty:"属性"},apis:[{internalID:"api_entitle",name:"购买记录",desc:"此项不可关闭，将使用购买记录来建立下载列表及确认PlayStation Plus状态。"},{internalID:"api_game",name:"类别",desc:"开启以取得更多游戏信息，包括类别及购买时间来建立下载清单。"},{internalID:"api_queue",name:"下载队列",desc:"允许从下载队列增加/移除项目。"},{internalID:"api_pstv",name:"PS TV",desc:"侦测Playstation Vita TV兼容游戏。目前只支持en-us区域",disabled:!0}]}}},determineLanguage:function(e,t){return e=e?e.split("-"):this.config.language.split("-"),!0===t&&(this.lang={},this.lang=$.extend(!0,{},this.lang_cache.en.us)),e[0]in this.lang_cache?e.slice(-1)in this.lang_cache[e[0]]?(!0===t&&($.extend(!0,this.lang,this.lang_cache[e[0]][e.slice(-1)]),this.sanitizeLanguage()),e=e[0]+"-"+e.slice(-1)):(!0===t&&($.extend(!0,this.lang,this.lang_cache[e[0]][this.lang_cache[e[0]].def]),this.sanitizeLanguage()),e=e[0]+"-"+this.lang_cache[e[0]].def):e="en-us",this.lang.rtl&&1==this.lang.rtl?$("#muh_games_container").addClass("rtl"):$("#muh_games_container").removeClass("rtl"),e},sanitizeLanguage:function(){var e=JSON.stringify(this.lang,function(e,t){return"string"==typeof t?t.replace(/'/g,"&apos;"):t});this.lang=JSON.parse(e)},generateLangBox:function(e){var t="<select id='lang_select'>";e=e?this.determineLanguage(e):this.determineLanguage();for(var a in this.lang_cache)for(var o in this.lang_cache[a])this.lang_cache[a][o].local&&(t+="<option "+(e==a+"-"+o?"selected='selected'":"")+" value='"+a+"-"+o+"'>"+this.lang_cache[a][o].local+" ["+a+"-"+o+"]</option>");return t+="</select>"},init:function(){console.log("PSDLE | Init.");var e=window.location.pathname.match(/^\/([a-z\-]+)\//i),t=(null!==e&&e.length>1?e.pop():"en-us").toLowerCase(),a=t.split("-"),o="object"==typeof window.valkyrie;this.config={valkyrie:o,valkyrieInstance:require("valkyrie-storefront/app").default.create().__container__},this.config=$.extend(this.config,{logoBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAAAfCAYAAAEO89r4AAABaUlEQVRoge2XS27CQAyGPSVSUVErdqzpMqveiRvALnu67Gl6D+gFuAKIPgQrs0o1TJSJJ7aJBvnbRXE8f357XoCIGyTiEBFf33+BwgMpyg/eVRNSsENEpAQWMa27agL1e7JWcmCSVSG+tF6jp1D4o/qkqN8un+Bl7JpJUxP5vH38XT2T655CtEf6olKoaFLq3ElK2heRlgq//U/KKVj4rcrvs+Y+h7Z1ow2Vv9eg6A5p53MxhnI2an0vWSmW0HI2EhUTI5vSN4T2Xem0ycZRh4h7AJgOLaQLlf1ega2br3/IQlMW6TA2dYEPc2XToyZUGtbOdMs1lyX0lqeubEpvQqVp9GhsghxPOpvY8yPA1yo+MRtCh7iWfJ/j49rOpEE2QnM55h1U7/Wcox0nb+y9lqY6dzYtmgtmqDBmqDBmqDCDGcq5Ew5xCqViHSqMGSqMGSqMGSpMp6H3unloYR0qjBkqjBkqjBkqzAUtBKxj5lT3GAAAAABJRU5ErkJggg==",game_page:window.location.origin+"/"+(o?t+"/product/":"#!/"+t+"/cid="),game_api:"https://store.playstation.com/store/api/chihiro/00_09_000/container/"+a.slice(-1)+"/"+a[0]+"/999/",lastsort:"",lastsort_r:!1,language:t,deep_search:!1,deep_waiting:0,deep_current:0,last_search:"",dlQueue:{base:"/kamaji/api/chihiro/00_09_000/user/notification/download",ps4:"/kamaji/api/chihiro/00_09_000/gateway/store/v1/users/me/notification/download",status:"/kamaji/api/chihiro/00_09_000/user/notification/download/status",status2:"/kamaji/api/chihiro/00_09_000/gateway/store/v1/users/me/notification/download/status"},use_queue:!1,active_consoles:{},tag_line:"<br><a class='psdle_tiny_link' href='//repod.github.io/psdle#support' target='_blank'>Support PSDLE</a> - <a class='psdle_tiny_link' href='//repod.github.io/psdle' target='_blank'>Website</a> - <a class='psdle_tiny_link' href='//github.com/RePod/psdle' target='_blank'>Repository</a> - <a class='psdle_tiny_link' href='//github.com/RePod/psdle/wiki/Submit-a-Bug-or-Translation' target='_blank'>Submit Bug/Translation</a>",has_plus:!1,check_tv:!1,tv_url:{"en-us":atob("L2NoaWhpcm8tYXBpL3ZpZXdmaW5kZXIvVVMvZW4vMTkvU1RPUkUtTVNGNzcwMDgtUFNUVlZJVEFHQU1FUz9zaXplPTMwJnN0YXJ0PTA=")},iconSize:42,mobile:!1}),console.log("PSDLE | Config set.");try{GM_info&&(this.config.tag_line+=" - <span class='psdle_tiny_link'>Userscript: "+GM_info.script.version+"</span>")}catch(e){}this.config.tv_url[this.config.language]&&(this.config.tv_url=this.config.tv_url[this.config.language]),this.determineLanguage(this.config.language,!0),this.injectCSS(),this.config.valkyrie||SonyChi_SessionManagerSingleton.getUserDevices(),this.genStartup()},genStartup:function(){if(0==$("#psdle_start").length){var e=this;window.psdleSkip&&1==window.psdleSkip?e.genDisplay():($("<div/>",{id:"psdle_start"}).css({"background-image":"url("+repod.psdle.config.logoBase64+")"}).appendTo("body"),$(document).one("click","#psdle_start",function(){$(this).remove(),e.genDisplay()}))}},genDisplay:function(e,t){var a=this;$(document).one("change","#sub_container > select#lang_select",function(){a.config.language=$(this).val(),a.determineLanguage($(this).val(),!0),a.genDisplay("nobind")}),$("#muh_games_container").length||$("body").append($("<div />",{id:"muh_games_container",class:this.config.valkyrie?"valkyrie":""})),$("#muh_games_container").slideUp("slow",function(){var o="<div id='sub_container'><a href='//repod.github.io/psdle/' target='_blank'><img src='"+repod.psdle.config.logoBase64+"' style='display:inline-block;font-size:200%;font-weight:bold' alt='psdle' /></a></span>";"progress"==e?(a.config.active_consoles={vita:1,ps3:1,ps4:1},o+="<br><div id='psdle_progressbar'><div id='psdle_bar'>&nbsp;</div></div><br><span id='psdle_status'>"+a.lang.startup.wait+"</span>"):(o+="<br><br>"+a.lang.startup.apis+"<br><br><span class='psdle_fancy_bar'>",$.each(a.lang.apis,function(e,t){if("api_pstv"==t.internalID&&"en-us"!==a.config.language)return 0;var n="api_game"==t.internalID||t.disabled?"toggled_off":"";o+="<span id='"+t.internalID+"' title='"+t.desc.replace(/'/g,"&apos;")+"' class='"+n+"'>"+t.name.replace(/'/g,"&apos;")+"</span>"}),o+="</span><br><br><span id='psdle_go' class='psdle_btn'>"+a.lang.startup.start+"</span><br>"+a.generateLangBox()+"<br><span id='psdle_night' class='psdle_tiny_link'>Night Mode</span>"+a.config.tag_line,o+="<br><span id='inject_lang' class='psdle_tiny_link'>Inject Language</span> - <a class='psdle_tiny_link' target='_blank' href='//github.com/RePod/psdle/wiki/Submit-a-Bug-or-Translation#translation-submission-template'>Language Template</a> - <span id='gen_fake' class='psdle_tiny_link'>Generate Fake List</span>",o+="</div>","nobind"!==e&&($(document).on("click","#psdle_night",function(){a.darkCSS()}),$(document).on("click","[id^=api_]",function(){"api_entitle"!==$(this).attr("id")&&$(this).toggleClass("toggled_off")}),$(document).on("click","#inject_lang",function(){a.debug.inject_lang()}),$(document).on("click","#psdle_go, #gen_fake",function(){a.config.deep_search=!$("#api_game").hasClass("toggled_off"),a.config.use_queue=!$("#api_queue").hasClass("toggled_off"),a.config.check_tv=!!$("#api_pstv").length&&!$("#api_pstv").hasClass("toggled_off"),a.genDisplay("progress","gen_fake"==$(this).attr("id"))}))),$("#muh_games_container").html(o).slideDown("slow",function(){"progress"==e?t?a.debug.fake_list():a.generateList():$("[id^=api_]").promise().done(function(){a.config.valkyrie||$("[id^=api_]").tooltip({position:{my:"center top",at:"center bottom"}})})})})},generateList:function(){console.log("PSDLE | Generating download list."),this.gamelist=[];var e=this;i18n=this.config.valkyrieInstance.lookup("service:i18n"),entitlements=this.config.valkyrieInstance.lookup("service:macrossBrain").macrossBrainInstance.getEntitlementStore().getAllEntitlements()._result,$.each(entitlements,function(t,a){if(console.log(a),e.isValidContent(a)){var o={};e.config.deep_search&&(o.category="unknown"),o.productID=a.product_id,o.id=a.id,e.pid_cache[o.productID]?e.pid_cache[o.productID]++:e.pid_cache[o.productID]=1,a.entitlement_attributes?(a.game_meta&&(o.name=a.game_meta.name,o.api_icon=a.game_meta.icon_url),o.size=a.entitlement_attributes[0].package_file_size,o.platform=["PS4"],o.pkg=a.entitlement_attributes[0].reference_package_url):a.drm_def&&(o.name=a.drm_def.contentName?a.drm_def.contentName:a.drm_def.drmContents[0].titleName?a.drm_def.drmContents[0].titleName:"Unknown! - Submit a bug report!",o.api_icon=a.drm_def.image_url,o.size=a.drm_def.drmContents[0].contentSize,o.platform=[],o.baseGame=a.drm_def.drmContents[0].titleName,o.publisher=a.drm_def.drmContents[0].spName,o.pkg=a.drm_def.drmContents[0].contentUrl,o.platform=e.determineSystem(a.drm_def.drmContents[0].platformIds)),o.icons=[e.config.game_api+o.id+"/image",e.config.game_api+o.productID+"/image",o.api_icon],o.date=a.active_date;var n=new Date(o.date);toPrettyDate={mm:n.getMonth()+1,dd:n.getDate(),yyyy:n.getFullYear()},o.prettyDate=i18n.t("c.format.numericDateSlashes",toPrettyDate).string;var i=require("valkyrie-storefront/utils/download").default.getFormattedFileSize(o.size);o.prettySize=0===o.size?"N/A":i18n.t("c.page.details.drmDetails."+i.unit,{val:i.value}).string,o.url=repod.psdle.config.game_page+o.productID,o.platformUsable=o.platform.slice(0),!a.drm_def&&a.inactive_date&&(o.plus=!0),a.license&&a.license.expiration&&(o.plus=!0),o.plus&&(e.config.has_plus=!0),e.gamelist.push(o)}}),this.gamelist.sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0}),$.each(this.pid_cache,function(t,a){a>1||delete e.pid_cache[t]}),$.each(this.gamelist,function(t,a){e.gamelist[t].index=t+1,e.config.deep_search&&e.game_api.queue(t+1,e.pid_cache[a.productID]>1?a.id:a.productID)}),console.log("PSDLE | Finished generating download list."),this.postList()},determineSystem:function(e){var t=[],a=require("valkyrie-storefront/utils/const").default.KamajiPlatformFlags,o=require("valkyrie-storefront/utils/const").default.KamajiPlatforms,n=a;return $.each(n,function(a,n){var i=o[a];0!=("1"==a?e>>>1&n>>>1:e&n)&&t.push(i)}),t},postList:function(){var e=!0;repod.psdle.config.check_tv&&(e=!1,repod.psdle.tv.init()),repod.psdle.config.deep_search&&(e=!1,this.game_api.run()),e&&this.table.gen()},isValidContent:function(e){var t=e.license?e.license.expiration:e.inactive_date,a=!!e.license&&e.license.infinite_duration;return!this.config.includeVideo&&(e.VUData||e.drm_def&&"TV"==e.drm_def.contentType)?0:!this.config.includeExpired&&new Date(t)<new Date&&!a?0:e.drm_def||e.entitlement_attributes?1:0},genSysCache:function(){var e=this;$.each(this.gamelist,function(t,a){var o=e.safeGuessSystem(a.platform),n=o.toLowerCase().replace("ps ","");e.sys_cache[n]=o})},genPropCache:function(){var e=this,t=["metadata"];this.prop_cache=[],$.each(this.gamelist,function(a,o){$.each(o,function(a){-1==$.inArray(a,t)&&-1==$.inArray(a,e.prop_cache)&&e.prop_cache.push(a)})}),this.prop_cache.push("vitaCompat"),this.config.check_tv&&this.prop_cache.push("vitatvCompat"),this.prop_cache.sort()},table:{bindSearch:function(){$(document).off("click",".psdle_table tbody > tr, span[id^=system_], span[id^=filter_], span[id^=dl_], th[id^=sort_], #export_view, #export_csv").off("blur","#psdle_search_text"),$(document).keypress(function(e){13==e.which&&$("#psdle_search_text").is(":focus")&&repod.psdle.table.regen(!0)}),$("#psdle_search_select").off("change").change(function(){repod.psdle.table.regen(!0)}),$("span[id^=system_], span[id^=filter_]").off("click").on("click",function(){$(this).toggleClass("toggled_off"),repod.psdle.table.regen(!0)}),$("th[id^=sort_]").off("click").on("click",function(){repod.psdle.sortGamelist($(this))}),$("#export_view").off("click").on("click",function(){repod.psdle.exportList.configure()}),$("#psdle_search_text").off("blur").on("blur",function(){repod.psdle.table.regen(!0)}),$("#dl_queue").one("click",function(){repod.psdle.dlQueue.generate.display()}),$(document).off("click","[id^=psdle_index_]").on("click","[id^=psdle_index_]",function(e){e.preventDefault(),e.shiftKey?repod.psdle.dlQueue.batch.add.auto(this):repod.psdle.dlQueue.batch.add.ask(this)})},gen:function(){var e=this;repod.psdle.genSysCache(),repod.psdle.genPropCache(),repod.psdle.config.lastsort="",repod.psdle.config.lastsort_r=!1,$("#muh_games_container").css({position:"absolute"}),$("#sub_container").html("").append(this.header.gen()).append("<div class='psdle_table'><table><thead><tr><th>"+repod.psdle.lang.columns.icon+"</th><th id='sort_name'>"+repod.psdle.lang.columns.name+"</th><th title='Approximate, check store page for all supported platforms.'>"+repod.psdle.lang.columns.platform+"</th><th id='sort_size'>"+repod.psdle.lang.columns.size+"</th><th id='sort_date'>"+repod.psdle.lang.columns.date+"</th></tr></thead><tbody></tbody></table></div><br>"+repod.psdle.config.tag_line),this.regen(!0),this.bindSearch(),console.log("PSDLE | Table generated."),$("#muh_games_container").slideDown("slow").promise().done(function(){e.margin()})},header:{gen:function(){return $("<div />",{class:"search main container"}).append(this.searchOptions()).append(this.stats())},searchOptions:function(e){var t=$("<div />",{class:"search options container"}),a=repod.psdle.lang;e||t.append($("<span />",{class:"psdle_fancy_bar"}).append($("<span />",{id:"export_view",text:a.labels.exportView})));var o=$("<span />",{class:"psdle_fancy_bar search options system"}),n=["ps1","ps2","ps3","ps4","psp","vita"];if($.each(n,function(e,t){repod.psdle.sys_cache.hasOwnProperty(t)&&$("<span />",{id:"system_"+t,text:repod.psdle.sys_cache[t]}).appendTo(o)}),o.appendTo(t),repod.psdle.config.use_queue){var i=e?"dl_list":"dl_queue",s=a.strings[e?"dlList":"dlQueue"];$("<span />",{class:"psdle_fancy_but",id:i,text:s}).appendTo(t)}if(!e&&repod.psdle.config.deep_search){var r=$("<div />",{class:"psdle_fancy_bar search options categories"}),n=["downloadable_game","demo","add_on","avatar","application","theme","unknown"];$.each(repod.psdle.type_cache,function(e){var t=$("<span />",{id:"filter_"+e,text:a.categories[e]||e});n.indexOf(e)>=0?n[n.indexOf(e)]=t:n.push(t)}),$.each(n,function(e,t){t.appendTo(r)}),r.appendTo(t)}if(!e){var l=$("<div />"),d=$("<select />",{id:"psdle_search_select",class:"search input select"}),p={name:a.columns.name,base:"Base Game",publisher:"Publisher",id:"Item ID",pid:"Product ID"};repod.psdle.config.deep_search&&(p.genre="Genre"),$.each(p,function(e,t){$("<option />",{value:e,text:t}).appendTo(d)}),d.appendTo(l),$("<input />",{id:"psdle_search_text",class:"search input text",type:"text",placeholder:a.strings.search}).appendTo(l),l.appendTo(t)}return t},stats:function(){var e=$("<span />",{class:"search stats all current"}).append("<span />",{class:"search stats psplus"}),t=$("<span />",{class:"search stats all total"}),a=$("<input />",{type:"checkbox",class:"search input plus",readonly:!0,title:repod.psdle.lang.strings.plus}).prop({indeterminate:!0}).click(function(){this.readOnly?this.checked=this.readOnly=!1:this.checked||(this.readOnly=this.indeterminate=!0),repod.psdle.table.regen(!0)}),o=$("<span />",{class:"search stats plus"}).append(" (").append(a).append(" ").append($("<span />",{class:"search stats plus total"})).append(")");return $("<div />",{class:"psdleSearchStats"}).append(e).append(o).append(" / ").append(t)}},regen:function(e){if(1==e)repod.psdle.determineGames();else{var t="",a=0;repod.psdle.exportList.delimited.destroy(),repod.psdle.config.valkyrie||repod.psdle.autocomplete.bind(),$.each(repod.psdle.gamelist_cur,function(e,o){o.plus&&a++,t+=repod.psdle.table_utils.gen.row(o)}),t+=repod.psdle.table_utils.gen.totals(),$(".search.stats.all.current").text(repod.psdle.gamelist_cur.length),$(".search.stats.all.total").text(repod.psdle.gamelist.length),$(".search.stats.plus.total").text(a),repod.psdle.config.valkyrie||(repod.psdle.config.mobile?$("#psdleplus").html("<img class='psPlusIcon' src='mobile/img/furniture/psplusicon-small.a2ec8f23.png'>"):$("#psdleplus").css($(".headerUserInfo.cart").css(["background-image","background-repeat"])).css({height:"14px",width:"14px","background-position":"left -5px"})),$(".psdle_table tbody").html(t),this.icons.select()}},plus_switch:function(){this.regen(!0)},margin:function(){$(".psdle_table").animate({"margin-top":$(".search.main.container").outerHeight()-$("#sub_container").css("padding-top").replace("px","")+"px"}),this.icons.smartScroll()},icons:{select:function(e){var t=this;$(document).off("scroll").on("scroll",function(){t.smartScroll()}),this.smartScroll()},toSize:function(e,t){return t=t||repod.psdle.config.iconSize||42,e+(/\?w=\d+&h=\d+$/.test(e)?"":"?w="+t+"&h="+t)},validate:function(e){var t=this,e=Number(e),a=repod.psdle.gamelist[e];if(a.safe_icon)t.setIcon(e);else{repod.psdle.config.iconSize;var o=a.icons.shift(),n=this.toSize(o);if(void 0==o)return a.safe_icon=!0,a.icon=a.api_icon,t.setIcon(e),0;$.get(n).success(function(){$.extend(repod.psdle.gamelist[e],{safe_icon:!0,icon:o}),t.setIcon(e)}).fail(function(a){t.validate(e)})}},setIcon:function(e){$("#psdle_index_"+e+" .psdle_game_icon").attr("src",this.toSize(repod.psdle.gamelist[e].icon))},smartScroll:function(){var e=window.scrollY,t=e+window.innerHeight,a=this,o=$("[id^=psdle_index_]").filter(function(a){var o=$(this).offset().top;if(o>=e&&o<=t)return 1}).filter(":first, :last"),n=$(o[0]).index()-5<=0?0:$(o[0]).index()-5,i=$(o[1]).index()+5;$("[id^=psdle_index_]").slice(n,i).not(".go_icon").each(function(e){$(this).addClass("go_icon");var t=this;setTimeout(function(){a.validate($(t).attr("id").split("_").pop())},50*e)})}}},determineGames:function(){this.exportList.delimited.destroy(),this.gamelist_cur=[],this.autocomplete_cache=[];var e=this,t=this.safeSystemCheck(),a=$("#psdle_search_text")?$("#psdle_search_text").val():this.config.last_search,o=[],n={};$.each($("[id^=filter_]"),function(){var e=$(this).attr("id").split("_").splice(1).join("_");n[e]=$(this).hasClass("toggled_off")}),$("#psdle_search_text").removeClass("negate_regex"),$.each(this.gamelist,function(i,s){var r=e.safeGuessSystem(s.platform),l=!0,d="";switch($("#psdle_search_select").val()){default:case"name":d=s.name;break;case"id":d=s.id;break;case"pid":d=s.productID;break;case"date":d=s.date;break;case"publisher":d=s.publisher;break;case"desc":s.description?d=s.description:l=!1;break;case"genre":s.metadata&&s.metadata.genre?d=s.metadata.genre.values.join(","):l=!1;break;case"base":s.baseGame?d=s.baseGame:l=!1}if($.inArray(r,t)>-1){if(e.config.deep_search&&n[s.category]&&(l=!1),1==l&&""!==a){var p=a.match(/^\/(.+?)\/([imgdp]+)?$/i);(l=!!(p&&p[2]&&p[2].toLowerCase().indexOf("d")>=0))&&($("#psdle_search_text").addClass("negate_regex"),p[2]=p[2].replace("d","")),p?RegExp(p[1]?p[1]:a,p[2]?p[2]:"").test(d)&&(l=!l):d&&d.toLowerCase().indexOf(a.toLowerCase())>=0&&(l=!l)}$(".search.input.plus").prop("checked")?l=1==s.plus:$(".search.input.plus").prop("indeterminate")||$(".search.input.plus").prop("checked")||(l=!(1==s.plus)),1==l&&(e.gamelist_cur.push(s),-1==$.inArray(d,o)&&(o.push(d),e.autocomplete_cache.push({label:d,value:d})))}}),e.config.last_search=a,this.sortGamelist("noreverse")},sortGamelist:function(e){var t=!0;switch("noreverse"==e?(t=!1,e=this.config.lastsort?this.config.lastsort:"sort_date"):e=e?$(e).attr("id"):this.config.lastsort?this.config.lastsort:"sort_date",e){default:case"sort_date":this.gamelist_cur.sort(function(e,t){return e.date>t.date?-1:e.date<t.date?1:0});break;case"sort_name":this.gamelist_cur.sort(function(e,t){return e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:0});break;case"sort_size":this.gamelist_cur.sort(function(e,t){return e.size>t.size?1:e.size<t.size?-1:0})}1==t?e==this.config.lastsort?(this.config.lastsort_r||this.gamelist_cur.reverse(),this.config.lastsort_r=!this.config.lastsort_r):this.config.lastsort_r=!1:this.config.lastsort_r&&this.gamelist_cur.reverse(),$("#psdle_sort_display").remove(),$("#"+e).append("<span id='psdle_sort_display' class='psdle_sort_"+(this.config.lastsort_r?"asc":"desc")+"' />"),this.config.lastsort=e,this.table.regen()},safeSystemCheck:function(){var e=[];return $("span[id^=system_]:not('.toggled_off')").each(function(){e.push($(this).text())}),e},safeGuessSystem:function(e){var t="object"==typeof e?e.join(" "):e;return"PS3 PSP PS Vita"==(t=t.replace(/[^\w\d ]/g,""))||"PS3 PSP"==t||"PS Vita PSP"==t||t.indexOf("PSP")>-1?t="PSP":"PS3 PS Vita"==t||t.indexOf("PS Vita")>-1?t="PS Vita":"PS3"==t||t.indexOf("PS3")>-1?t="PS3":("PS4"==t||t.indexOf("PS4")>-1)&&(t="PS4"),t},injectCSS:function(){$("head").append("<style type='text/css'>.valkyrie #export_table input,.valkyrie #export_table select,.valkyrie #lang_select{height:unset;padding:unset;margin:unset;width:unset;display:unset}#psdle_start{z-index:9001;width:84px;height:31px;position:fixed;bottom:10px;left:10px;cursor:pointer;box-shadow:0 0 10px #fff}#muh_games_container{display:none;position:absolute;top:0;right:0;left:0;color:#000;z-index:9001;text-align:center}#sub_container{padding:20px;background-color:#fff}#psdle_bar,.psdle_btn{background-color:#2185f4}#psdle_progressbar{overflow:hidden;display:inline-block;width:400px;height:16px;border:1px solid #999;margin:10px;border-radius:10px}#psdle_bar{width:0;height:100%;border-radius:10px}.psdle_btn{cursor:pointer;border-radius:13px;color:#fff;padding:1px 15px;display:inline-block;margin:5px auto}.psdle_tiny_link{line-height:0;cursor:pointer;color:#7f6d75!important;font-size:x-small}.psdle_tiny_link:hover{color:#000!important;text-decoration:underline}.search.main.container{position:fixed;left:0;top:0;width:100%;padding:15px 0;background-color:rgba(255,255,255,.8);z-index:9001}.search.input.plus{cursor:pointer!important}.psdle_table,table{text-align:left;display:inline-block;border-collapse:initial}th[id^=sort]{cursor:pointer}th[id^=sort]:hover{background-color:#62a5f0}th{padding:5px!important;background-color:#2185f4;color:#fff;border:none;transition:background-color .3s}tr:hover{background-color:rgba(33,133,244,.7)!important}.valkyrie td{padding:0;border:none}td a.psdle_game_link{display:block;width:100%;height:100%;color:#000;padding:8px!important}.psdle_game_icon.is_plus{background-color:#ffd10d}tr[id^=psdle_index_].is_plus td:last-child{border-right:#ffd10d 3px solid}tr:nth-child(2n){background-color:#eee}td:nth-child(n+3):nth-child(-n+7),th:nth-child(n+3):nth-child(-n+7){text-align:center;padding:0 5px!important;position:relative}td:first-child{text-align:center;position:relative}#psdle_search_select,#psdle_search_text{font-size:large;padding:5px 10px;border:1px solid #f0f0f0;display:inline-block;width:auto}#psdle_search_select{background-color:#f0f0f0;text-align:center}#psdle_search_text{font-size:large;max-width:480px;width:100%}.negate_regex{background-color:#ff8080;color:#fff}.psdle_fancy_bar>span,span#export_view,span[id^=dl_],span[id^=filter_],span[id^=system_]{font-weight:700;font-size:.9em;color:#fff;background-color:#2185f4;display:inline-block;margin-right:2px;margin-bottom:5px;padding:1px 10px;cursor:pointer}.psdle_fancy_but{border-radius:12px}#muh_games_container:not(.rtl) .psdle_fancy_bar>span:first-of-type{border-top-left-radius:12px;border-bottom-left-radius:12px}#muh_games_container:not(.rtl) .psdle_fancy_bar>span:last-of-type{border-top-right-radius:12px;border-bottom-right-radius:12px}.toggled_off{opacity:.4}#muh_games_container:not(.rtl) #psdle_search_select{border-radius:90px 0 0 90px}#psdle_search_text{border-radius:0 90px 90px 0}.psdle_game_icon{max-width:100%;vertical-align:middle;padding:3px;min-width:42px;min-height:42px}.psdle_sort_asc,.psdle_sort_desc{float:right;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent}.psdle_sort_asc{border-bottom:5px solid #fff}.psdle_sort_desc{border-top:5px solid #fff}#dlQARating,#dlQAStat{color:#fff;background-color:rgba(33,133,244,.8);font-size:small}#dlQueueAsk{width:400px;height:400px}#dlQAN{background-color:rgba(33,133,244,.8);padding:7px 15px;color:#fff;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#dlQASys{position:absolute;bottom:0;padding:7px 0;color:#fff;display:table;width:100%;table-layout:fixed}#dlQASys>div{display:table-cell}#dlQASys>div>div{cursor:pointer;background-color:rgba(33,133,244,.8);border-radius:10px;padding:2px;margin:0 10px;box-shadow:0 0 30px #000;transition:background-color .5s,box-shadow .5s}#dlQASys>div>div:hover{background-color:rgba(33,133,244,1);box-shadow:0 0 30px rgba(33,133,244,1)}#dlQAStat{border-bottom-left-radius:20px;padding:0 10px 0 15px;float:right}#dlQARating{border-bottom-right-radius:20px;padding:0 15px 0 10px;float:left}.success{background-color:#237423!important}.failure{background-color:#a43636!important}#dlQueueExt{overflow:hidden;position:absolute;left:10px;right:10px;bottom:40px;font-size:.8em;background-color:rgba(33,133,244,.8);padding:10px;border-radius:9px;top:66px;text-align:left}.cover,.cover>div>div{background-size:cover}.cover{z-index:9001;position:fixed;top:0;left:0;width:100%;height:100%;display:table;background-color:rgba(0,0,0,.25);background-position:center}.cover>div{display:table-cell;vertical-align:middle;height:inherit;text-align:center}.cover>div>div{box-shadow:0 0 30px #000;display:inline-block;background-color:#fff;border-radius:20px;overflow:hidden;position:relative}#export_select{padding:10px;background-color:#fff;color:#000}#export_select>div{border-top-left-radius:10px;border-top-right-radius:10px;overflow-y:auto;overflow-x:hidden;max-height:490px}#export_table{width:100%}#slider,.handle{display:inline-block}#slider{vertical-align:bottom;cursor:pointer;width:30px;height:12px;border-radius:10px;border:2px solid #f0f0f0}.handle_container{text-align:center;width:100%;height:100%}.handle{width:10px;height:10px;border-radius:100%;margin:0 2px 6px;border:1px solid #fff;background-color:#85c107}.tooltip-inner{background-color:#2185f4!important;border:5px solid #2185f4!important}.tooltip-arrow{border-top-color:#2185f4!important}.tooltip.in{opacity:1!important}.ui-tooltip{direction:rtl;max-width:234px;z-index:9002;background-color:#2185f4;font-size:22px;text-align:center;line-height:1.4em;padding:12px;border-radius:4px}.ui-autocomplete{z-index:9002;max-width:590px;max-height:200px;overflow-y:auto;overflow-x:hidden}.ui-menu{position:fixed;border:2px solid #f0f0f0;border-top:none;background-color:#fff}.ui-menu>.ui-menu-item *{color:#000;text-decoration:none;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.ui-menu>.ui-menu-item:nth-child(even){background-color:#e6e6e6}.ui-menu-item .ui-state-focus{display:inline-block;width:100%;color:#000;background-color:rgba(33,133,244,.7)}.psdletv{font-style:italic;font-weight:700;font-size:.6em;vertical-align:text-top;position:absolute;top:4px}.psp3{border-left:2px solid #2185f4;border-right:2px solid #2185f4}.psp2{background-color:rgba(33,133,244,.15)!important}#muh_games_container.rtl{direction:rtl}.rtl #psdle_search_select{border-radius:0 90px 90px 0}.rtl #psdle_search_text{border-radius:90px 0 0 90px}.rtl .psdle_fancy_bar span:last-of-type{border-top-left-radius:12px;border-bottom-left-radius:12px}.rtl .psdle_fancy_bar span:first-of-type{border-top-right-radius:12px;border-bottom-right-radius:12px}.rtl #muh_table{text-align:right!important}.rtl tr.is_plus[id^=psdle_index_] td:last-child{border-right:none;border-left:#ffd10d 3px solid}.psdledark #sub_container{background-color:#222;color:#e7e7e7}.psdledark a.psdle_game_link{color:#e7e7e7}.psdledark #search_options{background-color:rgba(34,34,34,.7)}.psdledark tr{background-color:#222}.psdledark tr:nth-child(2n){background-color:#393939}</style>")},darkCSS:function(){$("#muh_games_container").toggleClass("psdledark")},exportList:{config:[],configure:function(){0==this.config.length&&(this.config=[{name:repod.psdle.lang.columns.name,target:"name"},{name:repod.psdle.lang.columns.platform,target:"platform"},{name:repod.psdle.lang.columns.size,target:"prettySize"},{name:repod.psdle.lang.columns.date,target:"prettyDate"}]);var e=this,t="<div id='export_select'><div>"+this.genTable()+"</div>";t+="<br><span class='psdle_fancy_bar'><span id='export_row_del'>-</span><span id='export_row_add'>+</span></span><br><span class='psdle_fancy_bar'><span id='sel_export_view'>"+repod.psdle.lang.labels.exportView+"</span><span id='sel_export_json'>JSON</span><span id='sel_export_csv'>CSV</span>",$("<div />",{id:"export_configure",class:"cover"}).append($("<div />").append(t)).appendTo("#muh_games_container"),$("#export_row_add").off("click").on("click",function(t){$("#export_table tbody").append(e.genRow())}),$("#export_row_del").off("click").on("click",function(e){$("#export_table tr:gt(1)").last().remove()}),$("#sel_export_view").off("click").on("click",function(){e.saveConfig(),e.delimited.handle(),$("#export_configure").remove()}),$("#sel_export_csv").off("click").on("click",function(){e.saveConfig(),e.csv.handle(),$("#export_configure").remove()}),$("#sel_export_json").off("click").on("click",function(){e.saveConfig(),e.json.handle(),$("#export_configure").remove()}),$("#export_configure").off("click").one("click",function(){$(this).remove(),repod.psdle.newbox.bind("off")}),$("#export_select").off("click").on("click",function(e){e.stopPropagation()})},genTable:function(){var e="",t=this.genSelect(),a=this.config.length||5;for(e+="<table id='export_table'><tr><th>"+repod.psdle.lang.strings.exportColumnName+"</th><th>"+repod.psdle.lang.strings.exportProperty+"</th></tr>",i=0;i<a;i++){var o=this.config[i]?this.config[i].name:"",n=t.clone();this.config[i]&&n.find("[value="+this.config[i].target+"]").attr("selected","selected"),n=n[0].outerHTML,e+=this.genRow(o,n)}return e+="</table>"},genRow:function(e,t){return e=e||"",t=t||this.genSelect()[0].outerHTML,"<tr><td><input placeholder='...?' value='"+e+"'></td><td>"+t+"</td></tr>"},genSelect:function(){var e=$("<select />");return $.each(repod.psdle.prop_cache,function(t,a){e.append($("<option />",{text:a,value:a}))}),e},saveConfig:function(){var e=[];$("#export_select").find("table tr:gt(0)").each(function(){e.push({name:$(this).find("input").val(),target:$(this).find("select option:selected").val()})}),this.config=e},delimited:{gen:function(e){var e=e||"\t",t=repod.psdle.exportList.formatRow(e);return $(repod.psdle.gamelist_cur).each(function(a){t+=repod.psdle.exportList.formatRow(e,a)}),t+=repod.psdle.exportList.formatRow(e,-1)},handle:function(){this.destroy();$("<span />",{id:"sotextarea"}).append($("<textarea />",{text:this.gen(prompt(repod.psdle.lang.strings.delimiter,"\t"))}).css({width:600,"max-width":600})).insertAfter(".psdleSearchStats"),repod.psdle.table.margin()},destroy:function(){$("#sotextarea").remove(),repod.psdle.table.margin()}},json:{gen:function(){var e={columns:{},items:[]},t=repod.psdle.exportList.config;return $.each(t,function(t,a){e.columns[a.target]=a.name}),$.each(repod.psdle.gamelist_cur,function(a){var o={};repod.psdle.gamelist_cur[a];$.each(t,function(e,t){o[t.target]=repod.psdle.exportList.format(a,t.target,"JSONExp")}),e.items.push(o)}),e},handle:function(){$("<a>",{download:"psdle_"+(new Date).toLocaleString().replace(/[:\/]/g,"-")+".json",href:"data:text/csv;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.gen()))})[0].dispatchEvent(new MouseEvent("click"))}},csv:{gen:function(e){var e=e||",",t=repod.psdle.exportList.formatRow(e);return $.each(repod.psdle.gamelist_cur,function(a){t+=repod.psdle.exportList.formatRow(e,a)}),t+=repod.psdle.exportList.formatRow(e,-1)},handle:function(){$("<a>",{download:"psdle_"+(new Date).toLocaleString().replace(/[:\/]/g,"-")+".csv",href:"data:text/csv;charset=utf-8,"+encodeURIComponent(this.gen())})[0].dispatchEvent(new MouseEvent("click"))}},format:function(e,t,a){var o=repod.psdle.gamelist_cur[e],n="JSONExp"==a,i=!!n||repod.psdle.lang.strings.yes,s=!n&&repod.psdle.lang.strings.no;switch(t){case"category":return repod.psdle.lang.categories[o.category]||o.category;case"platform":return repod.psdle.safeGuessSystem(o.platform);case"vitaCompat":return $.inArray("PS Vita",o.platformUsable)>-1?i:s;case"vitatvCompat":return repod.psdle.config.check_tv&&repod.psdle.id_cache[o.productID].tvcompat&&"PS Vita"==repod.psdle.safeGuessSystem(o.platform)?i:s;default:var r=o[t];if(!r)break;return"boolean"==typeof r&&(r=r?i:s),"object"==typeof r&&(r=n?r:JSON.stringify(r).replace(/"/g,"'")),"string"==typeof r&&(r=r.replace(/([\r\n]+?)/gm," ")),"string"==typeof r&&r.indexOf(a)>-1?'"'+r+'"':r}return n?void 0:""},formatRow:function(e,t){var a=this,o="",e=e||",";if(t>=0){repod.psdle.gamelist_cur[t],repod.psdle.lang.strings.yes,repod.psdle.lang.strings.no;$.each(this.config,function(n,i){i&&(o+=a.format(t,i.target,e)+e)}),o+="\n"}else-1==t?($.each(this.config,function(t,a){o+=a.target+e}),o+='"'+JSON.stringify(this.config).replace(/"/g,"'")+'"'):($.each(this.config,function(t,a){o+=a.name+e}),o+="\n");return o}},game_api:{batch:[],queue:function(e,t){var a={pid:t,index:e};"pid_cache"==e?this.batch.push(a):this.batch.unshift(a)},ran:!1,run:function(){var e=this,t=repod.psdle.config.valkyrieInstance.lookup("service:susuwatari");if(0==this.batch.length)return 0;this.batch.splice(0,1).forEach(function(a,o){t.resolve(a.pid).then(function(t){if(t.response&&404==t.response.status)return 0;var a=e.parse(t),o=repod.psdle.pid_cache.hasOwnProperty(t.id);repod.psdle.type_cache[a.category]=!0,o&&(repod.psdle.pid_cache[t.id]=a);var n=repod.psdle.gamelist.find(function(e){return e.id==t.id});n.hasOwnProperty("index")&&$.extend(repod.psdle.gamelist[n.index-1],a),e.called++}).catch(function(t){e.called++,repod.psdle.type_cache.unknown=!0}).then(function(){e.run(),e.updateBar()})})},called:0,updateBar:function(){var e=this,t=this.called,a=repod.psdle.gamelist.length,o=$("#psdle_bar").width(),n=$("#psdle_bar").parent().width(),i=Math.round(100*o/n),s=Math.round(100*t/a);100*t/a==100&&repod.psdle.table.gen(),s>i&&$("#psdle_progressbar > #psdle_bar").stop().animate({width:s+"%"}),$("#psdle_status").text(t+" / "+a).click(e.run())},parse:function(e){var t={},a=/^(PS\d+)_\w+\+?$/i;if($.each([e.secondaryClassification,e.primaryClassification],function(e,o){if(a.test(o))return t.platform=repod.psdle.safeGuessSystem(o.match(a).pop()),!1}),e.mediaList){t.images=[],t.videos=[];var o=new RegExp("\\.(png|jpg)$","i"),n=new RegExp("\\.mp4$","i"),i=[].concat(e.mediaList.screenshots).concat(e.mediaList.promo.images).concat(e.mediaList.promo.videos);$.each(i,function(e,a){o.test(a.url)?t.images.push(a.url):n.test(a.url.split("?")[0])&&t.videos.push(a.url)})}return t.baseGame=e.name||void 0,t.category=e.topCategory||"unknown",t.description=e.longDescription||void 0,t.displayPrice=e.mbSkus&&e.mbSkus[0]&&e.mbSkus[0].display_price||void 0,t.publisher=e.providerName||void 0,t.rating=e.starRating&&e.starRating.score||void 0,t.releaseDate=e.releaseDate||void 0,t}},dlQueue:{batch:{cache:{},get:function(e){e||(this.cache={ps3:[],ps4:[],vita:[]});var t=this,a=repod.psdle.config.dlQueue.status+"/?status=notstarted&status=stopped&status=waitfordownload&platformString=$$1&size=100",o=[];for(var n in repod.psdle.config.active_consoles)o.push(n);var i=o[$.inArray(e,o)+1];i?$.getJSON(a.replace("$$1",i)).fail(function(){console.error('PSDLE | DL Queue parse error for "'+i+'". Is it activated on the account?')}).success(function(e){t.cache[i]=e.data.notifications}).complete(function(){t.get(i)}):repod.psdle.dlQueue.generate.table()},send:function(e,t){var a=this,o=repod.psdle.config.valkyrieInstance.lookup("service:kamaji/downloads"),n=require("valkyrie-storefront/utils/const").default.KamajiPlatforms,i=repod.psdle.gamelist[e].id;switch(this.recordQueue.push({sys:t,id:i}),t){case"ps4":o.startPS4Download(i);break;case"ps3":case"vita":case"psvita":t=("vita"==t?"psvita":t).toUpperCase(),o.startDRMDownload(n[t],i).then(function(e){a.recordProcess()})}},recordQueue:[],recordProcess:function(){var e=repod.psdle.config.valkyrieInstance.lookup("service:kamaji/downloads"),t=this.recordQueue.splice(0,1)[0];void 0!==e.waitingDownloads[t.sys+"Downloads"].find(function(e){return e==t.id})?this.good($("[id^=dla_"+t.sys+"]")):this.bad($("[id^=dla_"+t.sys+"]"))},good:function(e){$(e).addClass("success")},bad:function(e){$(e).addClass("failure")},add:{ask:function(e){repod.psdle.newbox.open($(e).attr("id").split("_").pop())},auto:function(e){var t=isNaN(e)?Number($(e).attr("id").split("_").pop()):Number(e),a=repod.psdle.config.active_consoles,o=repod.psdle.gamelist[t],n=o.platformUsable;$.inArray("PS Vita",n)>=0?n=a.vita?"vita":!!a.ps3&&"ps3":$.inArray("PS3",n)>=0||$.inArray("PSP",n)>=0?n=!!a.ps3&&"ps3":$.inArray("PS4",n)>=0&&(n=!!a.ps4&&"ps4"),0==n?alert(repod.psdle.lang.strings.noTarget):$(e).data("queued")?($(e).removeData("queued").animate({"background-color":""}),repod.psdle.dlQueue.batch.remove.go(n,o.id,!0)):($(e).data("queued",!0),this.parse(t,n,e))}},remove:{parse:function(e){this.go($(e).children("td:eq(3)").text().replace("PS ","").toLowerCase(),repod.psdle.gamelist[Number($(e).attr("id").split("_").pop())].id)},go:function(e,t,a){repod.psdle.dlQueue.batch.send(e,t,!0,a?void 0:repod.psdle.dlQueue.batch.get())}}},generate:{bindings:function(){repod.psdle.newbox.bind("off"),$(document).one("click","#dl_list",function(){repod.psdle.table.gen()}),$(document).off("click","[id^=psdle_index_]").on("click","[id^=psdle_index_]",function(e){e.preventDefault(),repod.psdle.dlQueue.batch.remove.parse(this)})},table:function(){var e="";$(".psdle_table").remove(),$("#sub_container").append("<div class='psdle_table'><table style='display:inline-block;text-align:left'><thead><tr><th>"+repod.psdle.lang.columns.icon+"</th><th id='sort_name'>"+repod.psdle.lang.columns.name+"</th><th>"+repod.psdle.lang.columns.platform+"</th><th> > </th><th id='sort_size'>"+repod.psdle.lang.columns.size+"</th><th id='sort_date'>"+repod.psdle.lang.columns.date+"</th></tr></thead><tbody></tbody></table></div>"),$.each(repod.psdle.dlQueue.batch.cache,function(t,a){a.length&&$.each(a,function(a,o){$.each(repod.psdle.gamelist,function(a,n){if(n.id==o.contentId){var i=o;i.to_sys=t,e+=repod.psdle.table_utils.gen.row(n,i)}})})}),$(".psdle_table tbody").html(e),repod.psdle.table.margin()},display:function(){this.bindings(),$("#sub_container").html("").append(repod.psdle.genSearchOptions(!0)),repod.psdle.dlQueue.batch.get()},destroy:function(){$("#sub_container").html("")}}},table_utils:{random:function(){var e=repod.psdle.gamelist_cur[Math.floor(Math.random()*repod.psdle.gamelist_cur.length)].index-1;return repod.psdle.newbox.open(e),e},gen:{row:function(e,t){var a=repod.psdle.config.game_page+e.id,o=(e.safe_icon&&e.icon,e.plus?"is_plus":""),n=repod.psdle.safeGuessSystem(e.platform),i=repod.psdle.config.iconSize+"px",s="<tr id='psdle_index_"+(e.index-1)+"' class='"+o+"'><td style='max-width:"+i+";max-height:"+i+";'><a target='_blank' href='"+e.url+"'><img title='"+repod.psdle.lang.labels.page+" #"+Math.ceil(e.index/50)+"' class='psdle_game_icon "+o+"' /></a></td><td><a class='psdle_game_link' target='_blank' href='"+a+"'>"+e.name+"</a></td>",r="PS Vita"!=n&&$.inArray("PS Vita",e.platformUsable)>-1;return r=r?"class='psp2'":"",s+=t?"<td>"+n+"</td><td>"+t.to_sys.toUpperCase().replace("VITA","PS Vita")+"</td><td>"+e.prettySize+"</td><td>"+t.createdTime+"</td>":"<td "+r+">"+n+(repod.psdle.config.check_tv&&repod.psdle.id_cache[e.productID].tvcompat&&"PS Vita"==n?"<span class='psdletv'>TV</span>":"")+"</td><td>"+e.prettySize+"</td><td>"+e.prettyDate+"</td>",s+="</tr>"},totals:function(){var e=0;$.each(repod.psdle.gamelist_cur,function(t,a){e+=a.size});var t=require("valkyrie-storefront/utils/download").default.getFormattedFileSize(e);return"<tr id='psdle_totals'><td /><td /><td /><td>"+(e=i18n.t("c.page.details.drmDetails."+t.unit,{val:t.value}))+"</td><td /></tr>"}}},newbox:{generate:function(e){var t="",a=repod.psdle.gamelist[e],o=a.index-1,n=a.icon;dialog=$("<div>",{id:"dlQueueAsk",style:'background-image:url("'+repod.psdle.table.icons.toSize(n,400)+'");'});try{a.plus&&(t=$("#psdleplus").clone()[0].outerHTML+" ")}catch(e){}if(dialog.append($("<div>",{id:"dlQAN"}).append(t+a.name)),repod.psdle.config.use_queue){var i=$.grep(a.platformUsable.slice(0),function(e){return"PSP"!==e}),s=$("<div>",{id:"dlQASys"});if(i.length>1)$.each(i,function(e,t){var a=t.replace(/ps /i,"").toLowerCase(),n=repod.psdle.config.active_consoles.hasOwnProperty(a)?"":"toggled_off";s.append($("<div>").append($("<div>",{id:"dla_"+a+"_"+o,class:n,text:t})))});else{var r=i[0].slice(0).replace(/ps /i,"").toLowerCase(),l=repod.psdle.config.active_consoles.hasOwnProperty(r)?"":"toggled_off";s.html($("<div>").append($("<div>",{id:"dla_"+r+"_"+o,class:l,text:repod.psdle.lang.strings.queueTo.replace("$SYS$",a.platformUsable[0].slice(0))})))}dialog.append(s)}try{if(a.rating){var d=$("<div>",{class:"star-rating rater-0 ratingStarGeneric star-rating-applied star-rating-readonly star-rating-on",style:"display:inline-block !important;float:none !important;vertical-align:text-top"}).append($("<a>",{text:""}))[0].outerHTML;dialog.append($("<div>",{id:"dlQARating"}).append(d+" "+a.rating+" / 5"))}}catch(e){}dialog.append($("<div>",{id:"dlQAStat",html:repod.psdle.safeGuessSystem(a.platform)+" | <div style='display:inline'>"+a.prettySize+"</div> | "+a.prettyDate})),dialog=$("<div>",{id:"dlQueue_newbox",class:"cover"}).append($("<div>").append(dialog[0].outerHTML));var p=[];return a.images&&$.each(a.images,function(e,t){p.push({type:"image",url:t})}),p.length>0&&("video"==(p=p[Math.floor(Math.random()*p.length)]).type&&$(dialog).prepend('<div style="z-index:-1;position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color:#000"><video style="min-height:100%;" autoplay loop muted><source src="'+a.videos[0]+'" type="video/mp4"></video></div>'),"image"==p.type&&$(dialog).css("background-image","url('"+a.images[Math.floor(Math.random()*a.images.length)]+"')")),dialog[0].outerHTML},bind:function(e){var t=this;switch(e){case"on":default:$("#dlQueue_newbox").one("click",function(){t.close()}),$("#dlQueueAsk").on("click",function(e){e.stopPropagation()}),$("div[id^=dla_]:not('.toggled_off')").on("click",function(){repod.psdle.dlQueue.batch.send($(this).attr("id").split("_")[2],$(this).attr("id").split("_")[1])});break;case"off":$("div[id^=dla_]").off("click"),$("#dlQueueAsk").off("click")}},open:function(e){repod.psdle.table.icons.validate(e,-1),$("#dlQueue_newbox").length&&this.close(),$("#muh_games_container").append(this.generate(e)).promise().done(function(){repod.psdle.newbox.bind()})},close:function(){$("#dlQueue_newbox").remove(),this.bind("off")}},autocomplete:{bind:function(){$(".ui-autocomplete-input").length?($("#psdle_search_text").autocomplete("close"),$("#psdle_search_text").autocomplete("option",{source:repod.psdle.autocomplete_cache})):$("#psdle_search_text").autocomplete({source:repod.psdle.autocomplete_cache,position:{my:"center top",at:"center bottom"},messages:{noResults:"",results:function(){}},select:function(e,t){repod.psdle.config.last_search=t.item.value,repod.psdle.table.regen(!0)}})}},tv:{url_cache:[],init:function(){console.log("PSDLE | Starting PS TV checks."),$.each(repod.psdle.gamelist,function(e,t){repod.psdle.id_cache[t.productID]={tvcompat:!1}}),this.fetchList()},fetchList:function(){var e=this;$.getJSON(repod.psdle.config.tv_url,function(t){$.each(t.links,function(t,a){e.url_cache.push(a.url)})}).done(function(){e.run()})},run:function(){var e=this,t=this.url_cache.pop();t?$.getJSON(t).success(function(a){e.parse(t,a)}).fail(function(){e.run()}):repod.psdle.config.deep_search||repod.psdle.table.gen()},parse:function(e,t){var a=e.replace(/start=\d+/,"start="+(Number(e.match(/start=(\d+)/).pop())+Number(e.match(/size=(\d+)/).pop())));t.total_results&&t.start+t.size<t.total_results&&this.url_cache.push(a),$.each(t.links,function(e,t){repod.psdle.id_cache[t.id]&&(repod.psdle.id_cache[t.id].tvcompat=!0)}),this.run()}},debug:{die:function(){$("#muh_games_container").remove(),$("#psdle_css").remove(),delete repod.psdle},inject_lang:function(){var e=prompt("Insert JSON formatted language: (current below)",JSON.stringify(repod.psdle.lang));try{e=JSON.parse(e),repod.psdle.lang={},repod.psdle.lang=repod.psdle.lang_cache.en.us,$.extend(!0,repod.psdle.lang,e),repod.psdle.genDisplay("nobind")}catch(e){alert(e)}},fake_list:function(){$(".cellGridGameStandard").length>0?($.each($(".cellGridGameStandard"),function(e){var t={};t.category="unknown",t.productID=$(this).find(".permalink").attr("href").split("cid=").pop(),t.id=t.productID,t.index=repod.psdle.gamelist.length+1,t.name=$(this).find(".cellTitle").text(),t.platform=[$(this).find(".pforms").text().split("|").pop()],t.size=Math.floor(19999994e3*Math.random()),t.plus=Math.random()<.5,t.plus&&(repod.psdle.config.has_plus=!0),min=new Date,min.setDate(min.getDate()-1460),min=min.getTime(),t.date=new Date(min+Math.random()*(Date.now()-min)).toISOString(),t.icon=SonyChi_SessionManagerSingleton.buildBaseImageURLForProductId(t.productID)+"&w=42&h=42",t.prettySize=formatFileSizeDisplayStr(t.size),t.url=repod.psdle.config.game_page+t.productID,t.platformUsable=t.platform.slice(0),t.prettyDate=convertToNumericDateSlashes(convertStrToDateObj(t.date)),repod.psdle.gamelist.push(t),repod.psdle.config.deep_search&&repod.psdle.game_api.queue(t.index,t.productID)}),repod.psdle.postList()):alert("Not on a valid page.")},checkParse:function(e){e=e||prompt("Enter (product) ID:"),$.getJSON(repod.psdle.config.game_api+e).success(function(e){console.log(repod.psdle.game_api.parse(e))}).fail(function(e){console.log(e)})},difference:function(e){repod.psdle.gamelist_cur=$.grep(repod.psdle.gamelist,function(e){return $.inArray(e,repod.psdle.gamelist_cur)<0}),e&&repod.psdle.table.regen()},entitlement:function(e,t){e=e||prompt("Search for:"),e=e.toLowerCase(),t=t||"name",$.each(gEntitlementManager.getAllEntitlements(),function(a,o){if(repod.psdle.isValidContent(o)){var n=!1;switch(t){case"id":n=!!~o.id.toLowerCase().indexOf(e);break;case"name":default:n=!!~(o.drm_def?o.drm_def.contentName:o.game_meta.name).toLowerCase().indexOf(e)}if(n){var i,s=0;o.game_meta?i=["PS4"]:(s=o.drm_def.drmContents[0].platformIds,i=repod.psdle.determineSystem(s));var r=JSON.stringify(o,function(e,t){return/[\d\-]+T.+Z$/.test(t)||/^http/.test(t)?"~":t});console.log(a,i,s,r)}}})},injectEntitlement:function(e){return"object"==typeof(e=e||prompt("Enter valid Entitlement data:"))?$.each(e,function(e,t){repod.psdle.e_inject_cache.push(t)}):repod.psdle.e_inject_cache.push(JSON.parse(e)),repod.psdle.e_inject_cache.length}},grid:{generate:{cell:function(e){var t=repod.psdle.gamelist[e];return $("<div>",{class:"cell"}).append($("<img>",{class:"cell_icon",src:t.icon.replace(/(w|h)=\d+/g,"$1=124")})).append($("<div>",{class:"title psdle_blue",text:t.name})).append($("<div>",{class:"top"}).append($("<div>",{class:"psdle_blue",text:repod.psdle.safeGuessSystem(t.platform)+" | "+t.prettySize}))).append($("<div>",{class:"date psdle_blue",text:t.prettyDate}))[0].outerHTML}}}};var a=setInterval(function(e){("undefined"!=typeof chihiro&&!0===chihiro.appReady||"undefined"!=typeof Ember&&Ember.BOOTED)&&(clearInterval(repod.psdle.config.timerID),repod.psdle.init())},500);repod.psdle.config={timerID:a},console.log("PSDLE | Ready.");